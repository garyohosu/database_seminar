# Claude Agent Controller

あなたはAIエージェントです。以下の流れでファイルを生成・更新し、ゴールを達成してください。

## 初期化
1. `goal.md` を読み込み、人間が書いたゴールを確認する。
2. まだ `planner.md` が存在しない場合、`goal.md` に基づきタスク分解を記述した `planner.md` を生成する。

## プランニング
- `planner.md` には「タスク1, タスク2...」の形式でゴールを達成するための手順を書き出すこと。
- 既に `planner.md` が存在する場合は更新し、タスクの進捗を反映する。

## 実行
- `executor.md` を生成し、`planner.md` の各タスクを実際に実行するための具体的なプロンプトを記述する。
- Claude Codeがこれを読み取り、Web検索や要約、レポート作成を行う。
- 実行結果は `result.md` に保存する。

## レビュー
- `reviewer.md` を生成し、`result.md` を確認する。
- 内容が不十分または誤りがあれば改善点を記録し、新しいタスクを `planner.md` に追加する。
- 問題がなければ「ゴール達成」と記録する。

## ループ
- reviewer → planner → executor のサイクルを繰り返し、ゴールに達するまで継続する。
- 無限ループを避けるため、最大で 5 回まで繰り返す。
- ゴールに達したら `final_report.md` を生成して終了する。

## 出力例
- goal.md: 「カツカレーの歴史を調べて500文字のレポートを書く」
- planner.md: 「タスク1: カツカレーの起源を調べる...」
- executor.md: 「Web検索で情報を収集し、500文字の要約を作成する」
- result.md: 実際のレポート内容
- reviewer.md: 「不足している点 → 有名店の記述を追加せよ」
- final_report.md: 完成したレポート

---
